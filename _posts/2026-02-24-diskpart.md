---
layout: post
title: "Diskpart 使用基本教程"
date: 2026-02-25
categories: [技术,工程]
author: agppd
---

DiskPart 是 Windows 系统内置的一款强大的命令行磁盘管理工具。与图形化的“磁盘管理”界面相比，它提供了更灵活、更底层的控制能力，适用于磁盘分区、格式化、清理以及制作启动盘等高级任务。

## 一、启动 DiskPart
**重要提示**：DiskPart **操作前务必备份重要文件**，错误的操作可能导致数据永久丢失。

### 1：以管理员身份打开命令提示符
由于 DiskPart 需要修改系统存储，必须使用管理员权限运行：
1.  在 Windows 搜索框中输入 `cmd` 或 `命令提示符`。
2.  在搜索结果中，右键点击“命令提示符”，选择 **“以管理员身份运行”**。
3.  如果用户账户控制（UAC）提示，点击“是”。

### 2：进入 DiskPart 环境
在命令行窗口中输入以下命令并回车：
```cmd
diskpart
```
提示符会变成 **`DISKPART>`**，此时你已经进入磁盘管理环境。

## 二、焦点的设置
DiskPart 的一个核心机制是 **“焦点 (Focus)”**。在执行操作（如清理、格式化）之前，必须先通过 `select` 命令将焦点对准某个具体的磁盘或分区。当前拥有焦点的对象就是后续命令的操作目标。

## 三、常用 DiskPart 命令详解
你可以在 `DISKPART>` 提示符下输入 `help` 或 `？` 查看所有可用命令。

| 命令 | 功能说明 | 示例 |
| :--- | :--- | :--- |
| **`list disk`** | 列出计算机上所有物理磁盘。注意查看目标磁盘的编号（如 0、1、2），通常可以根据容量大小来判断哪个是你的 U 盘或新硬盘。 | `list disk` |
| **`select disk X`** | 选择编号为 X 的磁盘，将焦点设置给它。**这是最关键的一步，请确保选对了磁盘。** | `select disk 1` |
| **`list partition`** | 列出当前已选中磁盘上的所有分区。 | `list partition` |
| **`select partition Y`** | 选择编号为 Y 的分区，将焦点对准该分区。 | `select partition 1` |
| **`clean`** | **清空整个当前磁盘**。它会删除磁盘上的所有分区和卷，使磁盘变为“未分配”状态。如果你想改变磁盘分区表格式（如从 MBR 转 GPT），通常会使用此命令。 | `clean` |
| **`create partition primary size=N`** | 在当前磁盘上创建主分区。`size=N` 的单位是 **MB**。如果不指定 size，则会将所有剩余空间创建为一个分区。 | `create partition primary size=512000` （创建 500GB 主分区） |
| **`create partition extended`** | 创建扩展分区（用于 MBR 磁盘，以便在扩展分区内继续划分逻辑驱动器）。 | `create partition extended` |
| **`create partition logical`** | 在扩展分区内创建逻辑驱动器。 | `create partition logical size=256000` |
| **`format fs=NTFS/FAT32/exFAT quick`** | 格式化当前拥有焦点的分区。`fs=` 指定文件系统类型。建议加上 `quick` 参数进行快速格式化。 | `format fs=NTFS quick` |
| **`active`** | 将当前分区（主分区）标记为活动。这通常用于系统分区，告诉 BIOS 从这个分区引导启动。 | `active` |
| **`assign letter=D`** | 为当前分区分配一个驱动器号。如果不指定字母，系统会自动分配下一个可用的字母。 | `assign letter=G` |
| **`remove letter=D`** | 移除分区的驱动器号。 | `remove letter=G` |
| **`exit`** | 退出 DiskPart 环境，返回命令提示符。 | `exit` |

