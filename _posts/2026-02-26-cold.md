---
layout: post
title: "冷知识合集1"
date: 2026-02-26
categories: [杂谈,技术]
author: agppd
---

一份冷知识合集，不定时更新（不强调哪种语言，默认 `C/C++`）

1. `C/C++` 编译不生成 `.exe` 文件，只生成 `.o` 文件，连接后才可形成
2. `if` 与 `else` 是连一起的，所以你可以这么写
```cpp
for()
    if(){}
    else(){}
```
等价于
```cpp
for()
{
    if(){}
    else(){}
}
```

3. 关流同步的时候，应该写
```cpp
ios::sync_with_stdio(false);
cin.tie(nullptr),cout.tie(nullptr)
```

4. `map<template,template> = set<pair<template,template>>`

5. 其实，使用 `goto` 与 `if` ，就可以实现循环
```cpp
l1:
语句
if(条件)
    goto l1;
剩余代码
```
等价于
```cpp
while(条件)
{
    语句
}
剩余代码
```

6. 有条件的别用 `goto` ，这东西看起来会很乱，有点类似于汇编，但人家汇编是没办法，不得不用

如下（C语言）

```c
#include<stdio.h>
void main()
{
    for(int i=0;i<10;i++)
    {
        int a,b;
        scanf("%d%d",&a,&b);
        printf("%d%d\n",a+b,a*b);
    }
    int i=0;
l1:
    int A,B;
    scanf("%d%d",&A,&B);
    printf("%d%d\n",A+B,A*B);
    if(i<10)
    {
        i++;
        goto l1;
    }
    puts("end program");
    return ;
}
```

在 `Intel` 的 `x86-64 gcc 15.2` 上得出的汇编代码片段如下

```asm
.LC0:
        .string "%d%d"
.LC1:
        .string "%d%d\n"
.LC2:
        .string "end program"
main:
        push    rbp
        mov     rbp, rsp
        sub     rsp, 32
        mov     DWORD PTR [rbp-4], 0
        jmp     .L2
.L3:
        lea     rdx, [rbp-24]
        lea     rax, [rbp-20]
        mov     rsi, rax
        mov     edi, OFFSET FLAT:.LC0
        mov     eax, 0
        call    __isoc99_scanf
        mov     edx, DWORD PTR [rbp-20]
        mov     eax, DWORD PTR [rbp-24]
        imul    eax, edx
        mov     ecx, DWORD PTR [rbp-20]
        mov     edx, DWORD PTR [rbp-24]
        add     ecx, edx
        mov     edx, eax
        mov     esi, ecx
        mov     edi, OFFSET FLAT:.LC1
        mov     eax, 0
        call    printf
        add     DWORD PTR [rbp-4], 1
.L2:
        cmp     DWORD PTR [rbp-4], 9
        jle     .L3
        mov     DWORD PTR [rbp-8], 0
.L4:
        lea     rdx, [rbp-16]
        lea     rax, [rbp-12]
        mov     rsi, rax
        mov     edi, OFFSET FLAT:.LC0
        mov     eax, 0
        call    __isoc99_scanf
        mov     edx, DWORD PTR [rbp-12]
        mov     eax, DWORD PTR [rbp-16]
        imul    eax, edx
        mov     ecx, DWORD PTR [rbp-12]
        mov     edx, DWORD PTR [rbp-16]
        add     ecx, edx
        mov     edx, eax
        mov     esi, ecx
        mov     edi, OFFSET FLAT:.LC1
        mov     eax, 0
        call    printf
        cmp     DWORD PTR [rbp-8], 9
        jg      .L5
        add     DWORD PTR [rbp-8], 1
        jmp     .L4
.L5:
        mov     edi, OFFSET FLAT:.LC2
        call    puts
        nop
        leave
        ret
```

其中 `L4` 是 `goto` ，`L3` 是 `for` ，显然：使用 `goto` 与汇编相似度更高，但是，也更不利于阅读